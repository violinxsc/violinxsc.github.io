<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <link rel="shortcut icon" href="https://resource-1256567675.cos.ap-beijing.myqcloud.com/dao.png" >
    

    
    <title>终</title>
    
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    
    
    

    
        <link rel="alternate" href="/atom.xml" title="终" type="application/atom+xml" />
    

    

    <link rel="stylesheet" href="/libs/font-awesome/css/font-awesome.min.css">
    <link rel="stylesheet" href="/libs/titillium-web/styles.css">
    <link rel="stylesheet" href="/libs/source-code-pro/styles.css">

    <link rel="stylesheet" href="/css/style.css">
    
    <script src="/libs/jquery/2.2.4/jquery.min.js"></script>
    
    
        <link rel="stylesheet" href="/libs/lightgallery/css/lightgallery.min.css">
    
    
        <link rel="stylesheet" href="/libs/justified-gallery/justifiedGallery.min.css">
    
    
    



    <script async src="//dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet">
    <style>
	    .pace .pace-progress {
		background: #191970; /*进度条颜色*/
		height: 5px;
	    }
	    .pace .pace-progress-inner {
		 box-shadow: 0 0 10px #1E92FB, 0 0 5px     #1E92FB; /*阴影颜色*/
	    }
	    .pace .pace-activity {
		border-top-color: #191970;    /*上边框颜色*/
		border-left-color: #191970;    /*左边框颜色*/
	    }
    
    </style>
    <link rel="stylesheet" href="/css/APlayer.min.css">
    <script src="/libs/player/APlayer.min.js"></script>
    <script src="/libs/player/Meting.min.js"></script>
    <link rel="stylesheet" href="/css/ins.css">
    <link rel="stylesheet" href="/photoSwipe/photoswipe.css">
    <link rel="stylesheet" href="/photoSwipe/default-skin.css">
    <script src="/js/vue.min.js"></script>
    <script src="/libs/video/video.js"></script>
    <script src="/libs/video/videojs-playlist.js"></script>
    <link rel="stylesheet" href="/libs/video/video-js.css">
</head>

<body>
    
        <script type="text/javascript" color="0,0,255" zIndex="0" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script>
    
    <div id="wrap">
        <header id="header" style="background-image: url(https://resource-1256567675.cos.ap-beijing.myqcloud.com/heiye.jpg); background-repeat:no-repeat; background-size:100% 100%;">
    <div id="header-outer" class="outer">
        <div class="container">
            <div class="container-inner">
                <div id="header-title">
                    <h1 class="logo-wrap">
                        <a href="/" class="logo"></a>
                    </h1>
                    
                        <h2 class="subtitle-wrap">
                            <p class="subtitle">白夜之上，暗夜难将</p>
                        </h2>
                    
		    <div class="aplayer"
		        data-fixed=true
			data-autoplay=true
			data-name="芦苇荡"
			data-artist="群星"
			data-url="https://resource-1256567675.cos.ap-beijing.myqcloud.com/%E7%BE%A4%E6%98%9F%20-%20%E8%8A%A6%E8%8B%87%E8%8D%A1.mp3"
			data-cover="https://resource-1256567675.cos.ap-beijing.myqcloud.com/%E8%8A%A6%E8%8B%87%E8%8D%A1.jpg">
		    </div>
                </div>
                <div id="header-inner" class="nav-container">
                    <a id="main-nav-toggle" class="nav-icon fa fa-bars"></a>
                    <div class="nav-container-inner">
                        <ul id="main-nav">
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/">主页</a>
                                </li>
                            
                                        <ul class="main-nav-list"><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/IT/">IT</a></li><li class="main-nav-list-item"><a class="main-nav-list-link" href="/categories/无言/">无言</a></li></ul>
                                    
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/photos/">相册</a>
                                </li>
                            
                                <li class="main-nav-list-item" >
                                    <a class="main-nav-list-link" href="/about/index.html">关于</a>
                                </li>
                            
                        </ul>
                        <nav id="sub-nav">
                            <div id="search-form-wrap">

    <form class="search-form">
        <input type="text" class="ins-search-input search-form-input" placeholder="搜索" />
        <button type="submit" class="search-form-submit"></button>
    </form>
    <div class="ins-search">
    <div class="ins-search-mask"></div>
    <div class="ins-search-container">
        <div class="ins-input-wrapper">
            <input type="text" class="ins-search-input" placeholder="想要查找什么..." />
            <span class="ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
(function (window) {
    var INSIGHT_CONFIG = {
        TRANSLATION: {
            POSTS: '文章',
            PAGES: '页面',
            CATEGORIES: '分类',
            TAGS: '标签',
            UNTITLED: '(未命名)',
        },
        ROOT_URL: '/',
        CONTENT_URL: '/content.json',
    };
    window.INSIGHT_CONFIG = INSIGHT_CONFIG;
})(window);
</script>
<script src="/js/insight.js"></script>

</div>
                        </nav>
                    </div>
                </div>
            </div>
        </div>
    </div>
</header>
<a href="https://github.com/violinxsc"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://resource-1256567675.cos.ap-beijing.myqcloud.com/forkme_right_darkblue_121621.png" alt="Fork me on GitHub"></a>
        <div class="container">
            <div class="main-body container-inner">
                <div class="main-body-inner">
                    <section id="main">
                        <div class="main-body-header">
    <h1 class="header">
    
    终
    </h1>
</div>
                        <div class="main-body-content">
                            <article id="page-" class="article article-single article-type-page" itemscope itemprop="blogPost">
    <div class="article-inner">
        
        
        
        <div class="article-entry" itemprop="articleBody">
	    <!-- 目录内容 -->
             
        <!-- 目录内容结束 -->
             <style>
 ol, ul ,li{list-style: none;}
    .wrap{
	max-width:750px;
	max-height:750px;
	margin: 0px auto;
	background:#fc9e46;
	position: relative;
    }
    #layout{
	width:100%;
	height:100%;
	position: relative;
	background:url('/images/qipan.png') center center no-repeat / cover;
    }

    span.W{
	background:#fff;
    }

    span.B{
	background:#000;
    }
    .qizi{
	display: block;
	border-radius:50%;
	background:#000;
	position: absolute;
    }
    #start,#win{
	width:100%;
	height:32px;
	padding-bottom:1000px;
	position: absolute;
	text-align:center;
	top:0;
	left:0;
    }
    #win{
	display: none;
    }
    #start input,#win input{
	margin: 0 5px;
	padding:5px 20px;
	border:none;
	border-radius:5px;
	font-size:32px;
	color:#fff;
	background:#333;
	box-shadow:1px 1px 1px #111,inset 0px 0px 2px #333;
	cursor:pointer;
    }
    #start input:active,#win input:active{
	background:#222;
    }
    #showwin{
	width:100%;
	height:100px;
	line-height: 100px;
	background:#333;
	text-align:center;
	position: absolute;
	color:red;
	font-size:30px;
	font-weight:bold;
	opacity:0.9;
    }
    .tt{
	position: absolute;
	width:100px;
	text-align:center;
	color:red;
	font-size:18px;
	font-weight:bold;
	top:2px;
	z-index:1;
    }
</style>
 <div class="wrap">
        <div class="tt" id="steps">步数：<strong>0</strong></div>
	<div class="tt" id="back" style="right:0">返回</div>
        <div id="layout"></div>
        <div id="start">
            <input class="rx" type="button" name="" value="我先">
            <input class="dnx" type="button" name="" value="电脑先">
        </div>
    </div>

    <script>
	$("#back").click(function(){
		document.getElementById('gameList').style.display="block";     
		document.getElementById('gameShow').style.display="none"; 
		myPlay.init();
	});

        $(function(){
            myPlay.init();
        })

        var myPlay = {

            $steps : 0,

            len : 15,   //棋盘长度
            count : 0,

            chessboard : [],  //棋盘布局数组

            wins : [],   //赢法数组
            myWin : [],
            computerWin : [],

            myScore : [],   //评分数组
            computerScore : [],

            starting : function(){

                That = this;
                var $start = $('#start');

                $start.css({'padding-top':this.wrapH/2 - 25});

                $start.find('input:last-of-type').on('click',function(){   //电脑先
                    That.myFalling('B',7,7,2,That.$outobj,That.computerWin,That.myWin);
                    $start.fadeOut(That.tablesize);
                    $(this).off('click');
                });

                $start.find('input:first-of-type').on('click',function(){  //我先
                    $start.fadeOut(That.tablesize);
                    $(this).off('click');
                    $start.find('input:last-of-type').off('click');
                });
            },

            init : function(){

                var winH = $('body').height(),
                    $outobj = $('#layout');

                $('.wrap').css({'width':winH*0.92, 'height':winH*0.92, 'margin-top':winH*0.02, 'padding':winH*0.02});

                this.wrapH = $('.wrap').outerHeight();
                this.$outobj = $outobj;
                this.tablesize = $outobj.height()/this.len;

                if($outobj.children().length > 0){
                    $outobj.children().remove();
                };

                for(var i = 0; i<this.len; i++){  //棋盘和赢法数组初始化
                    this.chessboard[i] = [];
                    this.wins[i] = [];
                    for(var j = 0; j<this.len; j++){
                        this.chessboard[i][j] = 0;
                        this.wins[i][j] = [];
                    };
                };

                var len_4 = this.len - 4;

                for(var i = 0; i<this.len; i++){   //横向赢法
                    for(var j = 0; j<len_4; j++){
                        for(var k = 0; k<5; k++){
                            this.wins[i][j+k][this.count] = true;
                        }
                        this.count++;
                    }
                }

                for(var i = 0; i<this.len; i++){   //纵向赢法
                    for(var j = 0; j<len_4; j++){
                        for(var k = 0; k<5; k++){
                            this.wins[j+k][i][this.count] = true;
                        }
                        this.count++;
                    }
                }

                for(var i = 0; i<len_4; i++){    //正斜赢法
                    for(var j = 0; j<len_4; j++){
                        for(var k = 0; k<5; k++){
                            this.wins[i+k][j+k][this.count] = true;
                        }
                        this.count++;
                    }
                }

                for(var i = 0; i<len_4; i++){   //反斜赢法
                    for(var j = 14; j>3; j--){
                        for(var k = 0; k<5; k++){
                            this.wins[i+k][j-k][this.count] = true;
                        }
                        this.count++;
                    }
                }

                for(var i = 0; i<this.count; i++){
                    this.myWin[i] = 0;
                    this.computerWin[i] = 0;
                }

                $('#steps strong').html(0);
                this.$steps = 0;

                this.starting(); //
                this.falling();  //落子
            },

            falling : function(){

                var That = this;

                this.$outobj.on('click',function(){

                    var ex = event.clientX,
                        ey = event.clientY,

                        x=event.offsetX,      //相对于棋盘的X值
                        y=event.offsetY,      //相对于棋盘的Y值

                        thisX = $(this).offset().left,
                        thisY = $(this).offset().top,

                        dx = ex - thisX,
                        dy = ey - thisY,
                        arrx = parseInt(x/That.tablesize),
                        arry = parseInt(y/That.tablesize);

                    if(That.chessboard[arrx][arry] == 0){
                        $('#steps strong').html(++That.$steps);
                        That.myFalling('W',arrx,arry,1,$(this),That.myWin,That.computerWin,'恭喜恭喜！你赢了');
                        var ob = That.score();
                        That.myFalling('B',ob.x,ob.y,2,That.$outobj,That.computerWin,That.myWin,'电脑赢了，再接再厉');
                    }
                })
            },

            myFalling : function(classed,obx,oby,aNum,obj,Win1,Win2,str){

                var createpiece = $('<span></span>');
                    createpiece.addClass(classed);
		    createpiece.addClass("qizi");
                    createpiece.css({'width':this.tablesize - 2, 'height':this.tablesize - 2, 'left':(obx*(this.tablesize)),'top':(oby*(this.tablesize))})
                    this.chessboard[obx][oby] = aNum;
                    obj.append(createpiece);

                for(var k = 0; k<this.count; k++){
                    if(this.wins[obx][oby][k]){
                        Win1[k]++;
                        Win2[k] = 6;
                        if(Win1[k] == 5){
                            this.winned(str);
                        }
                    }
                }
            },

            score : function(){ //评分函数
                var max = 0,
                    fallclient = {
                        x : 0,
                        y : 0
                    }

                for(var i = 0; i<this.len; i++){  //评分数组初始化
                    this.myScore[i] = [];
                    this.computerScore[i] = [];
                    for(var j = 0; j<this.len; j++){
                        this.myScore[i][j] = 0;
                        this.computerScore[i][j] = 0;
                    }
                }

                for(var i = 0; i<this.len; i++){
                    for(var j = 0; j<this.len; j++){
                        if(this.chessboard[i][j] == 0){
                            for(var k = 0; k<this.count; k++){
                                if(this.wins[i][j][k]){

                                    if(this.myWin[k] == 1){
                                        this.myScore[i][j] += 200;
                                    }else if(this.myWin[k] == 2){
                                        this.myScore[i][j] += 400;
                                    }else if(this.myWin[k] == 3){
                                        this.myScore[i][j] += 2000;
                                    }else if(this.myWin[k] == 4){
                                        this.myScore[i][j] += 10000;
                                    }

                                    if(this.computerWin[k] == 1){
                                        this.computerScore[i][j] += 200;
                                    }else if(this.computerWin[k] == 2){
                                        this.computerScore[i][j] += 420;
                                    }else if(this.computerWin[k] == 3){
                                        this.computerScore[i][j] += 2100;
                                    }else if(this.computerWin[k] == 4){
                                        this.computerScore[i][j] += 20000;
                                    }
                                }

                            }
                            if(this.myScore[i][j] > max){
                                max = this.myScore[i][j];
                                fallclient.x = i;
                                fallclient.y = j;
                            }else if(this.myScore[i][j] == max){
                                if(this.computerScore[i][j] > this.computerScore[fallclient.x][fallclient.y]){
                                    fallclient.x = i;
                                    fallclient.y = j;

                                }
                            }

                            if(this.computerScore[i][j] > max){
                                max = this.computerScore[i][j];
                                fallclient.x = i;
                                fallclient.y = j;
                            }else if(this.computerScore[i][j] == max){
                                if(this.myScore[i][j] > this.myScore[fallclient.x][fallclient.y]){
                                    fallclient.x = i;
                                    fallclient.y = j;
                                }
                            }
                        }

                    }
                }
                return fallclient;
            },

            winned : function(str){

                var $win = $('<div id="win"><input class="ck" type="button" name="" value="再来一局"><div id="showwin"></div></div>');

                $win.css({'width':this.wrapH,'padding-top':this.wrapH/2});
                $('.wrap').append($win);
                $('#showwin').css({'left':this.wrapH,'top':this.wrapH/3-5});

                $win.fadeIn(200, $.proxy(function() {
                    $('#showwin').html(str).animate({
                        width:this.wrapH,
                        left:0
                    },400);
                },this));
                this.reseting($win);
            },

            reseting : function(obj){
                obj.find('.ck').on('click',function(){
                    myPlay.init();
                    obj.remove();
                    $('#start').fadeIn();
                    $(this).off('click');
                })
            },
        }
    </script>
        </div>
        <footer class="article-footer">
            

    <div class="bdsharebuttonbox">
    <a href="#" class="bds_more" data-cmd="more">分享到：</a>

    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博">新浪微博</a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣">豆瓣</a>

    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信">微信</a>
</div>
<script>
window._bd_share_config={"common":{"bdSnsKey":{},"bdText":"","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"16"},"share":{"bdSize":16}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='/static/api/js/share.js?v=89860593.js'];
</script>
<style>
    .bdshare_popup_box {
        border-radius: 4px;
        border: #e1e1e1 solid 1px;
    }
    .bdshare-button-style0-16 a,
    .bdshare-button-style0-16 .bds_more {
        padding-left: 20px;
        margin: 6px 10px 6px 0;
    }
    .bdshare_dialog_list a,
    .bdshare_popup_list a,
    .bdshare_popup_bottom a {
        font-family: 'Microsoft Yahei';
    }
    .bdshare_popup_top {
        display: none;
    }
    .bdshare_popup_bottom {
        height: auto;
        padding: 5px;
    }
</style>



        </footer>
    </div>
</article>

    <section id="comments">
    
        
    <div id="lv-container" data-id="city" data-uid=MTAyMC8zNzQ2NC8xMzk5Ng==>
    <script type="text/javascript">
   (function(d, s) {
       var j, e = d.getElementsByTagName(s)[0];

       if (typeof LivereTower === 'function') { return; }

       j = d.createElement(s);
       j.src = 'https://cdn-city.livere.com/js/embed.dist.js';
       j.async = true;

       e.parentNode.insertBefore(j, e);
   })(document, 'script');
</script>
<noscript>为正常使用来必力评论功能请激活JavaScript</noscript>
    </div>

    
    </section>


                        </div>
                    </section>
                    <aside id="sidebar">
    <a class="sidebar-toggle" title="Expand Sidebar"><i class="toggle icon"></i></a>
    <div class="sidebar-top">
        <p>关注我 :</p>
        <ul class="social-links">
            
                
                <li>
                    <a class="social-tooltip" title="github" href="https://github.com/violinxsc" target="_blank" rel="noopener">
                        <i class="icon fa fa-github"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="weibo" href="https://weibo.com/xscdaozhe" target="_blank" rel="noopener">
                        <i class="icon fa fa-weibo"></i>
                    </a>
                </li>
                
            
                
                <li>
                    <a class="social-tooltip" title="rss" href="/atom.xml" target="_blank" rel="noopener">
                        <i class="icon fa fa-rss"></i>
                    </a>
                </li>
                
            
        </ul>
    </div>
    
    <div class="widgets-container">
        
            
                
    <div class="widget-wrap">
        <h3 class="widget-title">最新文章</h3>
        <div class="widget">
            <ul id="recent-post" class="">
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/06/29/相关技术汇总/" class="thumbnail">
    
    
        <span style="background-image:url(/images/tech.jpg)" alt="相关技术汇总" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/IT/">IT</a></p>
                            <p class="item-title"><a href="/2018/06/29/相关技术汇总/" class="title">相关技术汇总</a></p>
                            <p class="item-date"><time datetime="2018-06-29T08:05:44.000Z" itemprop="datePublished">2018-06-29</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/06/19/hexo博客教程/" class="thumbnail">
    
    
        <span style="background-image:url(/images/blog.png)" alt="hexo博客教程" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/IT/">IT</a></p>
                            <p class="item-title"><a href="/2018/06/19/hexo博客教程/" class="title">hexo博客教程</a></p>
                            <p class="item-date"><time datetime="2018-06-19T08:04:06.000Z" itemprop="datePublished">2018-06-19</time></p>
                        </div>
                    </li>
                
                    <li>
                        
                        <div class="item-thumbnail">
                            <a href="/2018/06/15/hello-world/" class="thumbnail">
    
    
        <span style="background-image:url(/images/perBg.png)" alt="Hello World" class="thumbnail-image"></span>
    
    
</a>

                        </div>
                        
                        <div class="item-inner">
                            <p class="item-category"><a class="article-category-link" href="/categories/无言/">无言</a></p>
                            <p class="item-title"><a href="/2018/06/15/hello-world/" class="title">Hello World</a></p>
                            <p class="item-date"><time datetime="2018-06-15T06:08:03.325Z" itemprop="datePublished">2018-06-15</time></p>
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>

            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">分类</h3>
        <div class="widget">
            <ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="/categories/IT/">IT</a><span class="category-list-count">2</span></li><li class="category-list-item"><a class="category-list-link" href="/categories/无言/">无言</a><span class="category-list-count">1</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">归档</h3>
        <div class="widget">
            <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">六月 2018</a><span class="archive-list-count">3</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">标签</h3>
        <div class="widget">
            <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a><span class="tag-list-count">2</span></li></ul>
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">联系方式</h3>
        <div class="widget">
            凄然梦道处，尽是不归路<br>
            QQ: 1801698054@qq.com
        </div>
    </div>


            
                
    <div class="widget-wrap widget-list">
        <h3 class="widget-title">链接</h3>
        <div class="widget">
            <ul>
                
                    <li>
                        <a href="https://github.com/ppoffice/hexo-theme-hueman">Theme</a>
                    </li>
                
            </ul>
        </div>
    </div>


            
        
    </div>
</aside>

                </div>
            </div>
        </div>
        <footer id="footer">
    <div class="container">
        <div class="container-inner">
            <a id="back-to-top" href="javascript:;"><i class="icon fa fa-angle-up"></i></a>
            <div class="credit">
                <h1 class="logo-wrap">
                    <a href="/" class="logo"></a>
                </h1>
                <p>&copy; 2018 violinxsc</p>
                <p>Maded by <a href="//hexo.io/" target="_blank">Hexo</a>. Thank you for coming!
 <span id="busuanzi_container_site_uv" style="padding-left:233px"><i class="fa fa-bar-chart fa-2x"></i>访客人数 <span id="busuanzi_value_site_uv" style="color:#c9ce15"></span></span>
            </div>
        </div>
    </div>
</footer>
        

    
        <script src="/libs/lightgallery/js/lightgallery.min.js"></script>
        <script src="/libs/lightgallery/js/lg-thumbnail.min.js"></script>
        <script src="/libs/lightgallery/js/lg-pager.min.js"></script>
        <script src="/libs/lightgallery/js/lg-autoplay.min.js"></script>
        <script src="/libs/lightgallery/js/lg-fullscreen.min.js"></script>
        <script src="/libs/lightgallery/js/lg-zoom.min.js"></script>
        <script src="/libs/lightgallery/js/lg-hash.min.js"></script>
        <script src="/libs/lightgallery/js/lg-share.min.js"></script>
        <script src="/libs/lightgallery/js/lg-video.min.js"></script>
    
    
        <script src="/libs/justified-gallery/jquery.justifiedGallery.min.js"></script>
    
    




<!-- Custom Scripts -->
<script src="/js/main.js"></script>
<script src="/js/love.js"></script>
<script src="/photoSwipe/photoswipe.js"></script>
<script src="/photoSwipe/photoswipe-ui-default.js"></script>

    </div>
</body>
</html>
